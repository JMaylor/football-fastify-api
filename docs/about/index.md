# About

## Intro

Hi, I'm Joe. I made this API because I love football and the web. It is intended to be used by individuals to make projects for their portfolios, or just for fun. I hope you enjoy using the API.

You'll be limited to 30 requests per minute for this API. This is not intended in any way to restrict your use of the API, but it does protect against any malicious attacks and will hopefully keep the API running fast for everyone that wants to use it.

If you run into any problems, or want to request any particular endpoints, please e-mail me at joseph@maylor.io - or open an issue on GitHub.

## Data

### Source

The data in this API is sourced from [football-data](https://www.football-data.co.uk/data.php). It covers a total of 278 seasons across 21 European leagues from 11 countries, going back to 2000/01. You can see the leagues that are covered by this API in the Main Leagues section.

### Structure
You can see a diagram of the database [here](https://dbdiagram.io/d/5f720b2f3a78976d7b758e71).

### To-do
* Clean up the referee table. The data source provided multiple names for the same referee (e.g. A Marriner, A. Marriner, Andre Marriner). I will go through these and merge the same referees together. Once this is done, I'll provide endpoints that allow fixtures to be filtered by referee.
* Points deductions. Currently the league tables are calculated from the fixtures included in that season. This is okay for the vast majority of seasons, but where there has been a points deduction, these need to be factored in.

## How to use
You can view the technical swagger documentation [here](/swagger/static/index.html)

For an idea of how to navigate the data, first navigate to the /competitions endpoint and choose a competition id.


```json{1,4}
# /competitions
[
  {
    "competition_id": 1,
    "competition_name": "english premier league"
  },
  {
    "competition_id": 2,
    "competition_name": "english championship"
  },
  ...
]
```

Go to the seasons endpoint and get all the available seasons for this competition. Choose a season id.

```json{1,12}
# /seasons/1
[
  {
    "season_id": 1,
    "season_name": "09/10",
    "start_date": "2009-08-15",
    "end_date": "2010-05-09",
    "competition_id": 1,
    "competition_name": "english premier league"
  },
  {
    "season_id": 37,
    "season_name": "07/08",
    "start_date": "2007-08-11",
    "end_date": "2008-05-11",
    "competition_id": 1,
    "competition_name": "english premier league"
  },
  ...
]
```

Get the final league table for this season:

```json{1}
# /table/37
[
  {
    "team_name": "Man United",
    "played": 38,
    "won": 27,
    "lost": 5,
    "drawn": 6,
    "gf": 80,
    "ga": 22,
    "gd": 58,
    "points": 87
  },
  {
    "team_name": "Chelsea",
    "played": 38,
    "won": 25,
    "lost": 3,
    "drawn": 10,
    "gf": 65,
    "ga": 26,
    "gd": 39,
    "points": 85
  },
  ...
]
```

Display the data on your site:

| Team       |   W   |   D   |   L   | Points |
| ---------- | :---: | :---: | :---: | :----: |
| Man United |  27   |   6   |   5   |   87   |
| Chelsea    |  25   |  10   |   3   |   85   |
| Arsenal    |  24   |  11   |   3   |   83   |
| ...        |       |       |       |        |

## Technologies
For the database, I chose [PostgreSQL](https://www.postgresql.org/). The server was made with [Fastify](https://www.fastify.io/). These docs are built using [VitePress](https://vitepress.vuejs.org/), and the technical API docs are generated by [Swagger](https://swagger.io/).
